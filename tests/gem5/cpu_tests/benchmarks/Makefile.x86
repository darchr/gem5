SERVER_USER=jason@
SERVER_PATH=/z/www/htdocs/dist/current/gem5/cpu_tests/benchmarks/bin/x86
FETCH_PATH=http://gem5.org/dist/current/gem5/cpu_tests/benchmarks/bin/x86
UPLOAD_LOCATION=$(SERVER_USER)daystrom.gem5.org:$(SERVER_PATH)

all: Bubblesort FloatMM

upload: Bubblesort FloatMM
	scp Bubblesort FloatMM $(UPLOAD_LOCATION)

Bubblesort: Bubblesort.c dockcross-x64
	./dockcross-x64 bash -c '$$CC Bubblesort.c -o Bubblesort -static'

FloatMM: FloatMM.c dockcross-x64
	./dockcross-x64 bash -c '$$CC FloatMM.c -o FloatMM -static'

dockcross-x64:
	docker run --rm dockcross/linux-x64 > ./dockcross-x64
	chmod +x ./dockcross-x64

clean:
	rm -f dockcross* Bubblesort FloatMM
